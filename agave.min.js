// Agave.JS
define(function(){var e=function(){return Object.keys(this)},t=function(){return Object.keys(this).length},n=function(){return this.split("").reverse().join("")},r=function(e){var t=this;for(;;){if(!e.contains(t.charAt(0)))return t;t=t.slice(1)}},i=function(e){return this.reverse().leftStrip(e).reverse()},s=function(e){return this.leftStrip(e).rightStrip(e)},o=function(e){var t=this,n="/",r,i=!0;return typeof e=="string"&&(e=e.strip(n).split(n)),e.forEach(function(e){i&&(t.hasOwnProperty(e)?r=t[e]:(r=undefined,i=!1),t=t[e])}),r},u=function(e){var t=this,n,r=t.some(function(t,r){return n=r,e(t)});return r?t[n]:null},a=function(e){return this.indexOf(e,this.length-e.length)!==-1},f=function(e){return this.slice(0,e.length)===e},l=function(e){return this.indexOf(e)!==-1},c=function(e){return Array.prototype.push.apply(this,e),this},h=function(e){if(e<1)return"";if(e%2)return this.repeat(e-1)+this;var t=this.repeat(e/2);return t+t},p=function(){var e=this instanceof Array?[]:{};for(var t in this)this[t]&&typeof this[t]=="object"?e[t]=this[t].clone():e[t]=this[t];return e},d=function(e){var t=[],n=this.parentNode;while(n&&n.constructor.toString().contains("Element"))e?n.matches(e)&&t.push(n):t.push(n),n=n.parentNode;return t},v=!this.Element||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector,m={Array:{findItem:u,extend:c,contains:l},Object:{getKeys:e,findItem:u,getSize:t,getPath:o,contains:l},String:{endsWith:a,startsWith:f,repeat:h,reverse:n,leftStrip:r,rightStrip:i,strip:s,contains:l,forEach:Array.prototype.forEach},Element:{getParents:d,matches:v},NodeList:{forEach:Array.prototype.forEach}},g=function(e,t,n){e&&(e.method||Object.defineProperty(e.prototype,t,{value:n,enumerable:!1}))};for(var y in m)for(var b in m[y])g(this[y],b,m[y][b])});